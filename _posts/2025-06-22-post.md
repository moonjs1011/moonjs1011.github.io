---

title: Object Mapper로 Json속에서 value 뽑기

date: 2025-06-26

categories: [Spring Boot]

tags: [java,springboot] # TAG names should always be lowercase

comment: true

---

<div  style="text-align : center">

<img  src='data:image/png;base64,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'  >

<div>

간단한 `entity`를 만들고 `Mysql`과 연동하여 테스트를 했다.
```java
package com.sung_1.back_front.dto;  
  
import jakarta.persistence.*;  
import lombok.AllArgsConstructor;  
import lombok.Getter;  
import lombok.NoArgsConstructor;  
import lombok.Setter;  
  
@Entity  
@NoArgsConstructor  
@AllArgsConstructor  
@Getter  
@Setter  
@Table(name = "user")  
public class entity {  
  @Id  
  @GeneratedValue(strategy = GenerationType.IDENTITY)  
     private int id;  
     private String name;  
}
```

# Controller.java
```java
public class Controller {  
    private final UserService userService;  
    ObjectMapper objectMapper = new ObjectMapper();  
    @PostMapping("/api/hellobody")  
    public String helloBody(@RequestBody String body){  
        System.out.println(body);  
        return "success";  
    }  
}
```

`postman`으로 request를 날려보자 
![img-description](/assets/img/postman.png)
`success`을 받을 수 있지만 로그에는 
```json
{
    "name" : "James"
}
```
Json파일 그잡채로 넘어온 것을 확인할 수 있었다. 내가 원한건 value값 하나만 넘기고 싶다... 물론 Entity로 인자를 받으면 spring내부에서 자동으로 json객체를 entity객체로 mapping해준다. 물론 format을 잘 맞췄을때 이야기이다. 한번 시도해보자. 코드를 다음과 같이 수정해보자.

```java
...
    @PostMapping("/api/hellobody")
    public String helloBody(@RequestBody entity newentity){
        System.out.println(newentity.getId() + " " + newentity.getName());
        return "success";
    }
...

```
한번 request를 또 날려보자 
![img-description](/assets/img/postman2.png)
성공이다. 로그도 살펴보자.
```java
5 James
```
잘 넘어오긴 하지만, `id`를 직접 넣어줘서 request를 날려야하기 때문에 불편하다. 이름만 넣어서 insert를 하고 싶다. 앞에서 `json`파일 그자체를 넘겨받았는데, 여기서 value값을 추출할 수는 없을까?
##ObjectMapper가 답인가?

```java
...
    ObjectMapper objectMapper = new ObjectMapper();
    @PostMapping("/api/hellojson")
    public String helloJson(@RequestBody String body) throws Exception{
        JsonNode json= objectMapper.readTree(body);
        String name = json.get("name").asText();
        System.out.println(name);
        userService.insert(name);
        return "success";
    }
...

```
로그를 봐보자
```java
James
```
의도되로 value값이 James만 넘어왔다.
String으로 넘어온 Json파일에서 value값을 뽑을 수가 있었다.
`objectMapper`로 body를 읽어오고, `get`함수를 통해 value값을 뽑을 수가 있다! `get`의 매개변수로는 key값을 넣어주면 된다. 

